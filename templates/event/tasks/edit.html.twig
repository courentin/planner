{% extends 'event/tasks/base.html.twig' %}

{% block event_container_tools %}
    <a href="{{ path('event_tasks_show', {id: event.id, task_id: task.id}) }}"><i class="fa fa-arrow-left mr-2"></i>retour</a>
{% endblock %}

{% block tasks_container %}
    <h3>Modifier la tâche</h3>
    {{ form_start(form) }}
    <div class="row">
        <div class="col-md-10">
            {{ form_row(form.name) }}
        </div>
        <div class="col-md-2">
            {{ form_row(form.color) }}
        </div>
    </div>
    {{ form_row(form.description) }}
    {{ form_row(form.location) }}
    <hr class="mt-5 mb-3"/>
    <h5>Contraintes</h5>
    <div class="row">
        <div class="col-md-6">
            {{ form_row(form.minWorkingTime) }}
        </div>
        <div class="col-md-6">
            {{ form_row(form.maxWorkingTime) }}
        </div>
    </div>
    {{ form_row(form.skills) }}
    {{ form_row(form.timePrecision) }}
    {{ form_row(form.requirements) }}

    <div class="mt-5">
        {{ form_widget(form.submit) }}
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delete_modal">
            Supprimer la tâche
        </button>
    </div>
    {{ form_end(form) }}

    <!-- Modal -->
    <div class="modal fade" id="delete_modal" tabindex="-1" role="dialog" aria-labelledby="delete_modal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Supprimer la tâche "{{ task.name }}" ?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Etes vous sûr de vouloir supprimer cette tâche ?</p>
                    <p>12 permanenciers sont affectés à cette tâche</p>
                    <strong>Attention, cette action est irreversible.</strong>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                    <a href="{{ path('event_tasks_delete', {id: event.id, task_id: task.id}) }}" class="btn btn-danger">Supprimer</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}